<?xml version="1.0" encoding="utf-8"?>
<s:Panel xmlns:fx="http://ns.adobe.com/mxml/2009" 
		 xmlns:s="library://ns.adobe.com/flex/spark" title="Adomar Login" creationComplete="creationCompleteHandler(event)"
		 xmlns:mx="library://ns.adobe.com/flex/mx" width="300" height="115" xmlns:business="com.module.business.*">
	<s:layout>
		<s:VerticalLayout/>
	</s:layout>
	
	<fx:Script>
		<![CDATA[
			import com.adobe.cairngorm.control.CairngormEventDispatcher;
			import com.module.business.Services;
			import com.module.events.LoginEvent;
			import com.variables.AccessVars;
			import com.variables.SecurityType;
			
			import mx.events.FlexEvent;
			import mx.managers.PopUpManager;
			import mx.rpc.AsyncToken;
			import mx.rpc.Responder;
			import mx.rpc.events.FaultEvent;
			import mx.rpc.events.ResultEvent;
			import mx.rpc.http.HTTPService;
			
			import spark.components.Application;
			protected function logclickHandler(event:MouseEvent):void
			{
				PopUpManager.removePopUp(this);
				if (txtUser.text != "" && txtPass.text != ""){
					var log:LoginEvent = new LoginEvent(LoginEvent.SIGN_IN,{username:txtUser.text,password:txtPass.text})
					CairngormEventDispatcher.getInstance().dispatchEvent(log);
				}
			}
			
			protected function creationCompleteHandler(event:FlexEvent):void
			{
				//txtUser.text = "admin";
				//txtPass.text = "qwerty";
				txtUser.setFocus();
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		
	</fx:Declarations>
	<s:HGroup width="100%" height="100%" horizontalAlign="center" paddingLeft="10" paddingRight="10" paddingBottom="10" paddingTop="10">
		<s:VGroup width="100%" height="100%" gap="18">
			<s:Label text="Username:" />
			<s:Label text="Password: " />
		</s:VGroup>
		<s:VGroup width="100%" height="100%">
			<s:TextInput id="txtUser" width="100%" enter="{btnlogin.dispatchEvent(new MouseEvent(MouseEvent.CLICK))}"/>
			<s:TextInput id="txtPass" width="100%" displayAsPassword="true" enter="{btnlogin.dispatchEvent(new MouseEvent(MouseEvent.CLICK))}"/>
		</s:VGroup>
		<s:Button id="btnlogin" label="Login" click="logclickHandler(event)" height="90%"/>
	</s:HGroup>
</s:Panel>
